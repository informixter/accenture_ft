{"version":3,"sources":["assets/avatar.png","helper.js","questions.js","ducks/main.js","components/icons/IconBack.js","screens/TestScreen.js","screens/MainScreen.js","components/PortfolioItems.js","components/PortfolioAnalytics.js","components/PortfolioRecs.js","screens/PortfolioScreen.js","App.js","store.js","index.js"],"names":["module","exports","__webpack_require__","p","API_ENDPOINT","useRequest","_useState","useState","_useState2","Object","slicedToArray","loading","setLoading","requestLoading","request","useCallback","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","endpoint","options","additionalHeaders","headers","response","result","_args","arguments","wrap","_context","prev","next","length","undefined","Headers","objectSpread2","App-Version","Content-Type","match","mode","timeout","timeoutPromise","fetch","sent","ok","Error","json","t0","success","message","abrupt","data","t1","console","warn","finish","stop","_x","apply","this","ms","promise","Promise","resolve","reject","timeoutId","setTimeout","then","res","clearTimeout","err","questions","text","variants","balls","setLevel","createAction","setScreen","setPortfolioId","LEVELS_INFO","LOW","title","ru","MEDIUM","HIGH","main","createReducer","_createReducer","defineProperty","state","payload","level","screen","portfolioId","IconBack","_ref$size","size","style","react_default","createElement","xmlns","width","height","viewBox","d","fill","TestScreen","objectDestructuringEmpty","_useRequest","currentQuestionIndex","setCurrentQuestionIndex","_useState3","_useState4","selectedVariantIndex","setSelectedVariantIndex","_useState5","_useState6","setBalls","_useState7","_useState8","finished","setFinished","_useState9","_useState10","localLevel","className","onClick","Fragment","map","_","index","key","checked","onChange","type","id","concat","name","htmlFor","disabled","newBalls","alina","require","MainScreen","useSelector","shallowEqual","portfolio","setPortfolio","availableLimits","setAvailableLimits","useEffect","log","_callee2","_context2","src","alt","href","borderLeft","filter","logo","asset","slice","join","Boolean","asset_class_base_weight","item","i","asset_class","issuer_max_weight","asset_max_weight","ratings_limits","client_max_duration","PortfolioItems","scenario","row","price","onError","e","target","display","maxHeight","borderRadius","marginRight","Math","round","count","currency","rating","fontSize","abs","PortfolioAnalytics","_ref$modelPortfolio","modelPortfolio","calcTotalSum","port","reduce","sum","calcVol","volatility","calcRating","summaryRating","credit_risk_score","nearestRating","nearestRatingDif","forEach","calcScenarioIncome","calcHistoryIncome","volDif","scenarioIncomeDif","historyIncomeDif","role","minHeight","toFixed","toLocaleString","PortfolioRecs","recs","toLowerCase","calcPartInPortfolio","calcPartInPortfolioIncome","parseFloat","filteredLimits","colSpan","old","new","act","PortfolioScreen","setRecs","setModelPortfolio","setScenario","years","setYears","_useState11","_useState12","sorting","_useState13","_useState14","infoVisible","setInfoVisible","_useState15","_useState16","_getRecs","_callee3","_context3","model","AOS","init","duration","paddingBottom","value","PortfolioAnalytics_PortfolioAnalytics","PortfolioItems_PortfolioItems","getRecs","data-aos","PortfolioRecs_PortfolioRecs","App","development","process","storageData","middlewares","logger","push","rootReducer","combineReducers","persistReducer","storage","blacklist","enhancer","compose","applyMiddleware","store","createStore","persistor","persistStore","assignTo","assignActionsCreators","configureStore","ReactDOM","render","es","integration_react","document","getElementById"],"mappings":"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","file":"static/js/main.d6fb861f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/avatar.a0e12eb3.png\";","import {useCallback, useState} from \"react\";\n\nexport const API_ENDPOINT = 'https://investhelper.insrt.ru/server';\n\nexport function useRequest ()\n{\n    const [loading, setLoading] = useState(false);\n\n    const request = useCallback( async (endpoint, options= {}, additionalHeaders = {}) => {\n\n        setLoading(true);\n\n        let headers = new Headers({'App-Version': '5.0', 'Content-Type' : 'application/json', ...additionalHeaders});\n        if (endpoint.match('image'))\n        {\n\t        headers = new Headers();\n        }\n\n        options = {...options, mode: 'cors', timeout : options.timeout || 5000, headers};\n\n        try\n        {\n            let response = await timeoutPromise(options.timeout, fetch(API_ENDPOINT + endpoint, options));\n\n            if (!response.ok)\n            {\n                throw new Error('Errors on server');\n            }\n\n            let result;\n            try\n            {\n                result = await response.json();\n            }\n            catch (e)\n            {\n                throw new Error('Incorrect server response (json error)');\n            }\n\n            if (!result.success)\n            {\n                throw new Error(result.message);\n            }\n\n            return result.data;\n        }\n        catch (e)\n        {\n            console.warn(e);\n            throw e;\n        }\n        finally\n        {\n            setLoading(false);\n        }\n    }, [])\n\n    return { requestLoading : loading, request}\n}\n\nfunction timeoutPromise (ms, promise)\n{\n    return new Promise((resolve, reject) =>\n    {\n        const timeoutId = setTimeout(() =>\n        {\n            reject(new Error(\"Timeout error\"))\n        }, ms);\n        promise.then(\n            (res) =>\n            {\n                clearTimeout(timeoutId);\n                resolve(res);\n            },\n            (err) =>\n            {\n                clearTimeout(timeoutId);\n                reject(err);\n            }\n        );\n    })\n}\n\nexport function mobilecheck ()\n{\n    var check = false;\n    (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);\n    return check;\n}\n\n\n\nexport function throttle (func, ms)\n{\n    var freezed = false,\n        savedArgs,\n        savedThis;\n\n    function wrapper ()\n    {\n        if (freezed)\n        {\n            savedArgs = arguments;\n            savedThis = this;\n        }\n        else\n        {\n            func.apply(this, arguments);\n            freezed = true;\n\n            setTimeout(() =>\n            {\n                freezed = false;\n                if (savedArgs)\n                {\n                    wrapper.apply(savedThis, savedArgs);\n                    savedArgs = savedThis = null;\n                }\n            }, ms);\n        }\n    }\n\n    return wrapper;\n}\n\nexport function checkChanges (currentProps, currentState, nextProps, nextState)\n{\n    let changes = {};\n    for (let key in nextProps)\n    {\n        if (!nextProps.hasOwnProperty(key))\n        {\n            continue;\n        }\n\n        if (currentProps[key] !== nextProps[key])\n        {\n            changes[key] = [currentProps[key], nextProps[key]];\n        }\n    }\n\n    for (let key in nextState)\n    {\n        if (!nextState.hasOwnProperty(key))\n        {\n            continue;\n        }\n\n        if (currentState[key] !== nextState[key])\n        {\n            changes[key] = [currentState[key], nextState[key]];\n        }\n    }\n\n    return changes;\n}\n\nexport function getParamValue (paramName)\n{\n    var url = window.location.search.substring(1); //get rid of \"?\" in querystring\n    var qArray = url.split('&'); //get key-value pairs\n    for (var i = 0; i < qArray.length; i++)\n    {\n        var pArr = qArray[i].split('='); //split key and value\n        if (pArr[0] == paramName)\n            return pArr[1]; //return value\n    }\n}\n\nexport function inIframe () {\n    try {\n        return window.self !== window.top;\n    } catch (e) {\n        return true;\n    }\n}\n","export const questions = [\n/*\t{\n\t\ttext: \"Насколько хорошо Вы разбираетесь в инвестициях?\",\n\t\tvariants : [\n\t\t\t{text: \"Инвестирую впервые\", balls: 0},\n\t\t\t{text: \"Инвестирую меньше 3 лет\", balls: 0},\n\t\t\t{text: \"Инвестирую больше 3 лет\", balls: 0},\n\t\t]\n\t},*/\n\t{\n\t\ttext: \"Демонстрация того, что код тестов работает. Мы взяли анкетирование от крупного инвестиционного банка. Остальные вопросы решили не показывать, так как функционал есть, а вопросы скорее всего будут передаваться брокером. Уровень инвестора будет определятся на основе суммы баллов выбранных ответов.\",\n\t\tvariants : [\n\t\t\t/*{text: \"Перейди к демонстрации КОНСЕРВАТИВНОГО инвестора\", balls: 0},*/\n\t\t\t{text: \"Перейди к демонстрации УМЕРЕННОГО инвестора\", balls: 1},\n\t\t\t{text: \"Перейди к демонстрации АГРЕССИВНОГО инвестора\", balls: 2},\n\t\t]\n\t}\n]\n","import {createAction, createReducer} from \"redux-act\";\n\nexport const setLevel = createAction('set level');\nexport const setScreen = createAction('set screen');\nexport const setPortfolioId = createAction('set portfolio id');\n\nconst initialState =  {level : null, screen : \"MAIN\", portfolioId: null};\n\nexport const LEVELS_INFO = {\n\t\"LOW\" : {\n\t\ttitle : \"Начинающий инвестор\",\n\t\ttext : \"Вы не готовы к рисковым вложениям. В вашем портфеле нет акций, только облигации.\",\n\t\tru: \"Консервативный\"\n\t},\n\t\"MEDIUM\" : {\n\t\ttitle : \"Умеренный инвестор\",\n\t\ttext : \"Вы готовы рисковать. Но только в меру. В вашем портфеле должны преобладать облигации, но есть и акции.\",\n\t\tru: \"Умеренный\"\n\t},\n\t\"HIGH\": {\n\t\ttitle : \"Профессиональный инвестор\",\n\t\ttext: \"Вы готовы рисковать. В вашем порфтеле преобраладают акции с высокой доходностью.\",\n\t\tru: \"Агрессивный\"\n\t}\n};\nconst main = createReducer({\n    [setLevel]: (state, payload) => ({...state, level: payload}),\n    [setScreen]: (state, payload) => ({...state, screen: payload}),\n    [setPortfolioId]: (state, payload) => ({...state, portfolioId: payload}),\n}, initialState);\n\nexport default main;\n","import React from 'react';\n\nexport default function IconBack ({size = 24, style})\n{\n    return (\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width={size} height={size} style={style} viewBox=\"0 0 24 24\">\n            <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n            <path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"/>\n        </svg>\n    )\n}\n","import React, {useState} from 'react';\nimport {useRequest} from \"../helper\";\nimport {questions} from \"../questions\";\nimport {LEVELS_INFO, setLevel, setScreen} from \"../ducks/main\";\nimport IconBack from \"../components/icons/IconBack\";\n\nexport default function TestScreen ({})\n{\n    const {requestLoading, request} = useRequest();\n    const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n    const [selectedVariantIndex, setSelectedVariantIndex] = useState(null);\n    const [balls, setBalls] = useState(0);\n    const [finished, setFinished] = useState(false);\n    const [localLevel, setLocalLevel] = useState(null);\n\n    function nextQuestion ()\n    {\n    \tconst newBalls = balls + questions[currentQuestionIndex].variants[selectedVariantIndex].balls;\n\t    setBalls(newBalls);\n    \tif (currentQuestionIndex + 1 < questions.length)\n\t    {\n\t\t    setCurrentQuestionIndex(currentQuestionIndex + 1);\n\t\t    setSelectedVariantIndex(null);\n\t    }\n    \telse\n\t    {\n\t\t    setFinished(true);\n\n\t\t    // баллы зависят от вопросов. контент вопросов не так важен, как реализация.\n\t\t    if (newBalls === 0)\n\t\t    {\n\t\t\t    setLevel(\"LOW\");\n\t\t    }\n\t\t    else if (newBalls === 1)\n\t\t    {\n\t\t\t    setLevel(\"MEDIUM\");\n\t\t    }\n\t\t    else if (newBalls === 2)\n\t\t    {\n\t\t\t    setLevel(\"HIGH\");\n\t\t    }\n\t\t    setScreen(\"MAIN\");\n\t    }\n    }\n\n    return <div className={`screen`}>\n\n        <div className=\"screen-body pt-0\">\n\n\t        <div onClick={() => setScreen(\"MAIN\")}>\n\t\t        <IconBack/>\n\t        </div>\n\n\t        {\n\t        \tcurrentQuestionIndex === null &&\n\t\t        <>\n\t\t\t        <h1>Пройдите тест</h1>\n\t\t\t        <p className=\"text-muted\">Чтобы определить ваш инвестиционный уровень риска.</p>\n\t\t\t        <button onClick={() => setCurrentQuestionIndex(0)} className=\"btn btn-primary\">Начать тест</button>\n\t\t        </>\n\t        }\n\n\t        {\n\t\t        currentQuestionIndex !== null && !finished &&\n\t\t        <>\n\t\t\t        <h1>Вопрос {currentQuestionIndex + 1}</h1>\n\t\t\t        <p className=\"text-muted\">{questions[currentQuestionIndex].text}</p>\n\n\t\t\t        {\n\t\t\t\t        questions[currentQuestionIndex].variants.map((_, index) =>\n\t\t\t\t\t        <div key={index} className=\"d-block custom-control custom-radio custom-control-inline\">\n\t\t\t\t\t\t        <div className=\"form-group mb-0\">\n\t\t\t\t\t\t\t        <input checked={selectedVariantIndex === index} onChange={() => setSelectedVariantIndex(index)} type=\"radio\" id={`radio-${currentQuestionIndex}-${index}`} name=\"customRadio\"\n\t\t\t\t\t\t\t               className=\"custom-control-input\"/>\n\t\t\t\t\t\t\t\t        <label className=\"custom-control-label\" htmlFor={`radio-${currentQuestionIndex}-${index}`}>{_.text}</label>\n\t\t\t\t\t\t        </div>\n\t\t\t\t\t        </div>)\n\t\t\t        }\n\n\t\t\t        <button disabled={selectedVariantIndex === null} onClick={nextQuestion} className=\"btn btn-primary mt-4\">Дальше</button>\n\t\t        </>\n\t        }\n\n\t        {\n\t        \tfinished && localLevel &&\n\t\t        <>\n\t\t\t        <h1>Вы - {LEVELS_INFO[localLevel].title}</h1>\n\t\t\t        <p className=\"text-muted\">{LEVELS_INFO[localLevel].text}</p>\n\t\t\t        <button onClick={() => {setLevel(localLevel);setScreen(\"MAIN\")}} className=\"btn btn-primary\">Завершить тестирование</button>\n\t\t        </>\n\t        }\n        </div>\n\n    </div>\n}\n","import React, {useEffect, useState} from 'react';\nimport {useRequest} from \"../helper\";\nimport {LEVELS_INFO, setLevel, setPortfolioId, setScreen} from \"../ducks/main\";\nimport {shallowEqual, useSelector} from \"react-redux\";\n\nconst alina = require('../assets/avatar.png');\n\nexport default function MainScreen ({})\n{\n    const {requestLoading, request} = useRequest();\n\tconst level = useSelector(state => state.main.level, shallowEqual);\n\tconst [portfolio, setPortfolio] = useState(null);\n\tconst [availableLimits, setAvailableLimits] = useState([]);\n\n\tuseEffect(() =>\n\t{\n\t\t(async () =>\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tconst data = await request(`/availableLimits?level=${level}`);\n\t\t\t\tsetAvailableLimits(data);\n\t\t\t\tconsole.log(data);\n\t\t\t}\n\t\t\tcatch (e)\n\t\t\t{\n\n\t\t\t}\n\t\t})();\n\t}, [level]);\n\n\tuseEffect(() =>\n\t{\n\t\t(async () =>\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tconst data = await request(`/portfolio?level=${level}`);\n\t\t\t\tsetPortfolio(data);\n\t\t\t\tconsole.log(data);\n\t\t\t}\n\t\t\tcatch (e)\n\t\t\t{\n\n\t\t\t}\n\t\t})();\n\t}, [level])\n\n    return <div className={`screen`}>\n\n        <div className=\"screen-body pt-0\">\n\n\t        <>\n\t\t        <div className=\"d-flex text-center flex-column align-items-center mt-3\">\n\t\t\t        <div>\n\t\t\t\t        <img src={alina} className=\"img-fluid avatar avatar-medium mt-3 mt-sm-0 rounded-circle\" alt=\"\"/>\n\t\t\t        </div>\n\t\t\t        <div>\n\t\t\t\t        <h1 className=\"mb-0\">Частный инвестор</h1>\n\t\t\t\t        {\n\t\t\t\t        \t!level &&\n\t\t\t\t\t        <>\n\t\t\t\t\t\t        <p className=\"text-muted mb-0\">\n\t\t\t\t\t\t\t        Инвест-профиль не определен. Для продолжения пройдите тестирование.<br/>\n\t\t\t\t\t\t\t        В случае использования системы брокером, брокер будет заранее передавать профиль,<br/>тогда прохождение теста не будет обязательным.\n\t\t\t\t\t\t        </p>\n\t\t\t\t\t\t        <button onClick={() => setScreen(\"TEST\")} className=\"btn btn-primary mt-3\">Пройти тест</button>\n\t\t\t\t\t        </>\n\t\t\t\t        }\n\t\t\t\t        {\n\t\t\t\t        \tlevel &&\n\t\t\t\t\t        <>\n\t\t\t\t\t\t        <p className=\"text-muted mb-0\">{LEVELS_INFO[level].ru + ' профиль' }</p>\n\t\t\t\t\t\t        <a onClick={() => {setLevel(null);setPortfolio(null);setAvailableLimits(null);}} href=\"#\">сбросить профиль (есть демонстрация агрессивного и умеренного профиля)</a>\n\t\t\t\t\t        </>\n\t\t\t\t        }\n\t\t\t        </div>\n\t\t        </div>\n\n\t\t        {\n\t\t\t        portfolio &&\n\t\t\t        <div className=\"mt-5\">\n\t\t\t\t        <h3>Ваши портфели</h3>\n\t\t\t\t        <p className=\"text-muted\">Выберите портфель, чтобы увидеть аналитику и рекомендации.</p>\n\t\t\t\t        <div className=\"row\">\n\n\t\t\t\t\t        <div className=\"col-md-6 col-sm-12 mb-3\">\n\t\t\t\t\t\t        <div onClick={() => {setScreen(\"PORTFOLIO\"); setPortfolioId(1)}} className=\"card shadow rounded border-0 overflow-hidden hover-background\">\n\t\t\t\t\t\t\t        <div style={{borderLeft: \"3px solid blue\"}} className=\"card-body\">\n\t\t\t\t\t\t\t\t        <h5 className=\"card-title\">Портфель #1</h5>\n\t\t\t\t\t\t\t\t        <p className=\"text-muted mb-0\">{portfolio.filter(_ => _.logo !== null).map(_ => _.asset).slice(0, 3).join(\", \") + ' и др.'}</p>\n\t\t\t\t\t\t\t\t        {/*<p className=\"text-muted mb-0\">{portfolio.filter(_ => _.logo !== null).map(_ => <img key={_.logo} style={{width: 50, height: 50}} src={_.logo}/>)}</p>*/}\n\t\t\t\t\t\t\t        </div>\n\t\t\t\t\t\t        </div>\n\t\t\t\t\t        </div>\n\n\t\t\t\t        </div>\n\t\t\t        </div>\n\t\t        }\n\n\t\t        {\n\t\t        \tavailableLimits && level &&\n\t\t\t        <div className=\"mt-5\">\n\t\t\t\t        <h3>Ваша лимитная ведомость на основе риск-профиля</h3>\n\t\t\t\t        <p className=\"text-muted\">\n\t\t\t\t\t        Это набор классов активов с ограничениями по долям и рейтингам, подобранный в соответствии с инвестиционным профилем.\n\t\t\t\t\t        Он используется для подбора модельного портфеля к какому-либо реальному портфелю. Модельный портфель - идеальный набор бумаг на заданную сумму, горизонт инвестирования, сценарий, при котором инвестор получит максимальную доходность при минимальных рисках.\n\t\t\t\t        </p>\n\t\t\t\t        <div className=\"table-responsive bg-white shadow rounded\">\n\t\t\t\t\t        <table className=\"table mb-0\">\n\t\t\t\t\t\t        <thead>\n\t\t\t\t\t\t        <tr>\n\t\t\t\t\t\t\t        <th className=\"border-bottom-0\">Класс актива</th>\n\t\t\t\t\t\t\t        <th className=\"border-bottom-0\">Макс. доля класса актива</th>\n\t\t\t\t\t\t\t        <th className=\"border-bottom-0\">Макс. доля эмитента</th>\n\t\t\t\t\t\t\t        <th className=\"border-bottom-0\">Макс. доля актива</th>\n\t\t\t\t\t\t\t        <th className=\"border-bottom-0\">Доступные рейтинги</th>\n\t\t\t\t\t\t\t        <th className=\"border-bottom-0\">Горизонт инвестирования</th>\n\t\t\t\t\t\t        </tr>\n\t\t\t\t\t\t        </thead>\n\t\t\t\t\t\t        <tbody>\n\t\t\t\t\t\t        {\n\t\t\t\t\t\t        \tavailableLimits.filter(_ => Boolean(_.asset_class_base_weight)).map((item, i) =>\n\n\t\t\t\t\t\t\t\t        <tr key={i}>\n\t\t\t\t\t\t\t\t\t        <td>{item.asset_class}</td>\n\t\t\t\t\t\t\t\t\t        <td>{item.asset_class_base_weight || 0}%</td>\n\t\t\t\t\t\t\t\t\t        <td>{item.issuer_max_weight || 0}%</td>\n\t\t\t\t\t\t\t\t\t        <td>{item.asset_max_weight || 0}%</td>\n\t\t\t\t\t\t\t\t\t        <td>{item.ratings_limits}</td>\n\t\t\t\t\t\t\t\t\t        <td>{item.client_max_duration} {item.client_max_duration > 1 ? 'лет' : 'год '}</td>\n\t\t\t\t\t\t\t\t        </tr>\n\t\t\t\t\t\t\t        )\n\t\t\t\t\t\t        }\n\t\t\t\t\t\t        </tbody>\n\t\t\t\t\t        </table>\n\t\t\t\t        </div>\n\t\t\t        </div>\n\t\t        }\n\t        </>\n\n        </div>\n\n    </div>\n}\n","import React from 'react';\n\nexport const PortfolioItems = ({portfolio, scenario}) =>\n{\n\treturn portfolio.filter(row => row.price > 0).map(row => (\n\t\t\t<div className=\"col-md-6 col-sm-12 mb-3\">\n\t\t\t\t<div className=\"card shadow rounded border-0 overflow-hidden\">\n\t\t\t\t\t<div className=\"card-body d-flex\">\n\t\t\t\t\t\t<div style={{height: 70}}>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\trow.logo &&\n\t\t\t\t\t\t\t\t<img onError={(e) => e.target.style.display = 'none'} style={{width: 70, maxHeight: 70, borderRadius: 70, marginRight: 50}} src={row.logo}/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"w-100\">\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-between\">\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold card-title\">{row.asset}</span>\n\t\t\t\t\t\t\t\t<span>{Math.round(row.count * row.price * 100) / 100} {row.currency}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-muted mb-0\">{row.count} шт · {Math.round(row.price * 100) / 100} {row.currency}</p>\n\t\t\t\t\t\t\t<p className=\"text-muted mb-0\"><span className=\"text-warning\">{row.asset_class}</span> · {row.rating}</p>\n\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-between mt-3\">\n\t\t\t\t\t\t\t\t<span className=\"card-title\">Прогноз на год</span>\n\t\t\t\t\t\t\t\t<span className={(row['percent_' + scenario] > 0 ? 'text-success' : 'text-danger') + ' text-right'}>\n\t\t\t\t\t\t\t\t\t\t\t{Math.round(row['price_' + scenario] * row.count * 100) / 100} {row.currency}\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t\t\t<span style={{fontSize: 12}}>{Math.round(row['price_' + scenario] * 100) / 100} {row.currency} / шт, {row['percent_' + scenario] > 0 ? '+' : '-'}{Math.abs(Math.round(row['percent_' + scenario] * 100) / 100)}%</span>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t));\n};\n","import React from 'react';\n\nexport const PortfolioAnalytics = ({portfolio, modelPortfolio = null, scenario}) =>\n{\n\n\tfunction calcTotalSum (port)\n\t{\n\t\tif (!port)\n\t\t{\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn port.reduce((sum, row) => {\n\t\t\treturn sum + Math.round(row.count * row.price * (row.currency === \"RUB\" ? 1 : 75));\n\t\t}, 0);\n\t}\n\n\tfunction calcVol (port)\n\t{\n\t\tif (!port)\n\t\t{\n\t\t\treturn 0;\n\t\t}\n\t\treturn Math.round(port.reduce((sum, row) => {\n\t\t\treturn sum + row.volatility * row.count * row.price * (row.currency === \"RUB\" ? 1 : 75);\n\t\t}, 0) / calcTotalSum(port) * 100) / 100;\n\t}\n\n\tfunction calcRating (port)\n\t{\n\t\tif (!port)\n\t\t{\n\t\t\treturn \"NA\";\n\t\t}\n\n\t\tconst summaryRating = Math.round(port.reduce((sum, row) => {\n\t\t\treturn sum + row.credit_risk_score * row.count * row.price * (row.currency === \"RUB\" ? 1 : 75);\n\t\t}, 0) / calcTotalSum(port));\n\n\t\tlet nearestRating = '';\n\t\tlet nearestRatingDif = 1000;\n\t\tport.forEach((row) =>\n\t\t{\n\t\t\tif (row.credit_risk_score - summaryRating < nearestRatingDif)\n\t\t\t{\n\t\t\t\tnearestRatingDif = row.credit_risk_score - summaryRating;\n\t\t\t\tnearestRating = row.rating;\n\t\t\t}\n\t\t});\n\n\t\treturn nearestRating;\n\t}\n\n\tfunction calcScenarioIncome (port)\n\t{\n\t\tif (!port)\n\t\t{\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn Math.round(port.reduce((sum, row) => {\n\t\t\treturn sum + row['percent_' + scenario] * row.count * row['price_' + scenario] * (row.currency === \"RUB\" ? 1 : 75);\n\t\t}, 0) / calcTotalSum(port) * 100) / 100;\n\t}\n\n\tfunction calcHistoryIncome (port)\n\t{\n\t\tif (!port)\n\t\t{\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn Math.round(port.reduce((sum, row) => {\n\t\t\treturn sum + row['previousYearPercent'] * row.count * row['price'] * (row.currency === \"RUB\" ? 1 : 75);\n\t\t}, 0) / calcTotalSum(port) * 100) / 100;\n\t}\n\n\tconst volDif = modelPortfolio ? (calcVol(modelPortfolio) - calcVol(portfolio)) : 0;\n\tconst scenarioIncomeDif = modelPortfolio ? (calcScenarioIncome(modelPortfolio) - calcScenarioIncome(portfolio)) : 0;\n\tconst historyIncomeDif = modelPortfolio ? (calcHistoryIncome(modelPortfolio) - calcHistoryIncome(portfolio)) : 0;\n\n\tconsole.log(volDif);\n\treturn (\n\t\t<div className=\"row\">\n\n\t\t\t{/*<div className=\"col-md-3 mb-3\">\n\t\t\t\t<div className=\"alert alert-success mb-0\" role=\"alert\">\n\t\t\t\t\t<h3 className=\"alert-heading mb-0\">{calcTotalSum()} RUB</h3>\n\t\t\t\t\t<div className=\"mb-2\">&nbsp;</div>\n\t\t\t\t\t<p style={{minHeight: 60}} className=\"mb-0 border-top pt-3 small\">Суммарная стоимость</p>\n\t\t\t\t</div>\n\t\t\t</div>*/}\n\n\t\t\t<div className=\"col-md-3 mb-3\">\n\t\t\t\t<div className=\"alert alert-success mb-0\" role=\"alert\">\n\t\t\t\t\t<h3 className=\"alert-heading mb-0\">{calcRating(modelPortfolio || portfolio)}</h3>\n\t\t\t\t\t<div className=\"mb-2 text-muted\">&nbsp;{modelPortfolio && (calcRating(modelPortfolio) === calcRating(portfolio) ? 'без изменений' : \"изменился с \" + calcRating(portfolio))}</div>\n\t\t\t\t\t<p style={{minHeight: 60}} className=\"mb-0 border-top pt-3 small\">Средняя надежность вложений портфеля</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"col-md-3 mb-3\">\n\t\t\t\t<div className=\"alert alert-success mb-0\" role=\"alert\">\n\t\t\t\t\t<h3 className=\"alert-heading mb-0\">{calcVol(modelPortfolio || portfolio)}%</h3>\n\t\t\t\t\t{\n\t\t\t\t\t\t!modelPortfolio &&\n\t\t\t\t\t\t<div className={`mb-2 text-warning`}>&nbsp;</div>\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\tmodelPortfolio &&\n\t\t\t\t\t\t<div className={`mb-2 badge badge-pill ${volDif < 0 ? 'badge-primary' : 'badge-danger'}`}>&nbsp;{(volDif > 0 ? '+' : '') + ' ' + (volDif.toFixed(2)) + '%'}</div>\n\t\t\t\t\t}\n\t\t\t\t\t<p style={{minHeight: 60}} className=\"mb-0 border-top pt-3 small\">Волатильность портфеля за последние 6 мес, % год</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"col-md-3 mb-3\">\n\t\t\t\t<div className=\"alert alert-info mb-0\" role=\"alert\">\n\t\t\t\t\t<h3 className=\"alert-heading mb-0\">{calcScenarioIncome(modelPortfolio || portfolio)}%</h3>\n\t\t\t\t\t{\n\t\t\t\t\t\t!modelPortfolio &&\n\t\t\t\t\t\t<div className=\"mb-2\">({(Math.round(calcScenarioIncome(modelPortfolio || portfolio) / 100 * calcTotalSum(modelPortfolio || portfolio))).toLocaleString()} руб.)</div>\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\tmodelPortfolio &&\n\t\t\t\t\t\t<div className={`mb-2 badge badge-pill ${scenarioIncomeDif > 0 ? 'badge-primary' : 'badge-danger'}`}>{(scenarioIncomeDif > 0 ? '+' : '') + ' ' + (scenarioIncomeDif.toFixed(2)) + '%'}</div>\n\t\t\t\t\t}\n\t\t\t\t\t<p style={{minHeight: 60}} className=\"mb-0 border-top pt-3 small\">Ожидаемый доход портфеля по сценарию на 1 год</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"col-md-3 mb-3\">\n\t\t\t\t<div className=\"alert alert-info mb-0\" role=\"alert\">\n\t\t\t\t\t<h3 className=\"alert-heading mb-0\">{calcHistoryIncome(modelPortfolio || portfolio)}%</h3>\n\t\t\t\t\t{\n\t\t\t\t\t\t!modelPortfolio &&\n\t\t\t\t\t\t<div className=\"mb-2\">({(Math.round(calcHistoryIncome(modelPortfolio || portfolio) / 100 * calcTotalSum(modelPortfolio || portfolio))).toLocaleString()} руб.)</div>\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\tmodelPortfolio &&\n\t\t\t\t\t\t<div className={`mb-2 badge badge-pill ${historyIncomeDif > 0 ? 'badge-primary' : 'badge-danger'}`}>{(historyIncomeDif > 0 ? '+' : '') + ' ' + (historyIncomeDif.toFixed(2)) + '%'}</div>\n\t\t\t\t\t}\n\t\t\t\t\t<p style={{minHeight: 60}} className=\"mb-0 border-top pt-3 small\">Историческая доходность данной корзины за последний год</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t</div>\n\t);\n};\n","import React from 'react';\n\nexport const PortfolioRecs = ({recs, portfolio, scenario, modelPortfolio, availableLimits}) =>\n{\n\tfunction calcTotalSum (port)\n\t{\n\t\tif (!port)\n\t\t{\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn port.reduce((sum, row) => {\n\t\t\treturn sum + Math.round(row.count * row['price_' + scenario.toLowerCase()] * (row.currency === \"RUB\" ? 1 : 75));\n\t\t}, 0);\n\t}\n\n\tfunction calcPartInPortfolio (port, asset_class)\n\t{\n\t\treturn Math.round(port.filter(_ => _.asset_class === asset_class).reduce((sum, row) => {\n\t\t\treturn sum + row.count * row['price_' + scenario.toLowerCase()] * (row.currency === \"RUB\" ? 1 : 75);\n\t\t}, 0) / calcTotalSum(port) * 100);\n\t}\n\n\tfunction calcPartInPortfolioIncome (port, asset_class)\n\t{\n\t\treturn Math.round(port.filter(_ => _.asset_class === asset_class).reduce((sum, row) => {\n\t\t\treturn sum + parseFloat(row[\"percent_\" + scenario.toLowerCase()]) * row.count * row['price_' + scenario.toLowerCase()] * (row.currency === \"RUB\" ? 1 : 75);\n\t\t}, 0) / calcTotalSum(port) * 100) / 100;\n\t}\n\n\tconst filteredLimits = availableLimits.filter(_ => (calcPartInPortfolio(portfolio, _.asset_class) !== 0 || calcPartInPortfolio(modelPortfolio, _.asset_class) !== 0));\n\treturn  (\n\t\t<>\n\t\t\t<h3 className=\"mt-4\">Сравнительный анализ</h3>\n\t\t\t<div className=\"table-responsive bg-white shadow rounded\">\n\t\t\t\t<table className=\"table mb-0\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th className=\"border-bottom-0\"></th>\n\t\t\t\t\t\t<th className=\"border-bottom-0\" colSpan=\"2\">Доля</th>\n\t\t\t\t\t\t<th className=\"border-bottom-0\" colSpan=\"2\">Ожидаемая прогнозная доходность</th>\n\t\t\t\t\t\t<th className=\"border-bottom-0\" colSpan=\"2\">Вклад в доходность</th>\n\t\t\t\t\t\t<th className=\"border-bottom-0\"></th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th className=\"border-bottom-0\"></th>\n\t\t\t\t\t\t<th className=\"border-bottom-0\">Ваш</th>\n\t\t\t\t\t\t<th className=\"border-bottom-0\">Целевой</th>\n\t\t\t\t\t\t<th className=\"border-bottom-0\">Ваш</th>\n\t\t\t\t\t\t<th className=\"border-bottom-0\">Целевой</th>\n\t\t\t\t\t\t<th className=\"border-bottom-0\">Ваш</th>\n\t\t\t\t\t\t<th className=\"border-bottom-0\">Целевой</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t{\n\t\t\t\t\t\tfilteredLimits.map((row, i) =>\n\t\t\t\t\t\t\t<tr key={i}>\n\t\t\t\t\t\t\t\t<td>{row.asset_class}</td>\n\t\t\t\t\t\t\t\t<td>{calcPartInPortfolio(portfolio, row.asset_class)}%</td>\n\t\t\t\t\t\t\t\t<td>{calcPartInPortfolio(modelPortfolio, row.asset_class)}%</td>\n\t\t\t\t\t\t\t\t<td>{calcPartInPortfolioIncome(portfolio, row.asset_class)}%</td>\n\t\t\t\t\t\t\t\t<td>{calcPartInPortfolioIncome(modelPortfolio, row.asset_class)}%</td>\n\t\t\t\t\t\t\t\t<td>{Math.round(calcPartInPortfolio(portfolio, row.asset_class) * calcPartInPortfolioIncome(portfolio, row.asset_class)) / 100}%</td>\n\t\t\t\t\t\t\t\t<td>{Math.round(calcPartInPortfolio(modelPortfolio, row.asset_class) * calcPartInPortfolioIncome(modelPortfolio, row.asset_class)) / 100}%</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>Итого</td>\n\t\t\t\t\t\t<td>{Math.round(filteredLimits.reduce((sum, row) => sum + calcPartInPortfolio(portfolio, row.asset_class), 0) * 100) / 100}%</td>\n\t\t\t\t\t\t<td>{Math.round(filteredLimits.reduce((sum, row) => sum + calcPartInPortfolio(modelPortfolio, row.asset_class), 0) * 100) / 100}%</td>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t<td>{Math.round(filteredLimits.reduce((sum, row) => sum + Math.round(calcPartInPortfolio(portfolio, row.asset_class) * calcPartInPortfolioIncome(portfolio, row.asset_class)), 0)) / 100}%</td>\n\t\t\t\t\t\t<td>{Math.round(filteredLimits.reduce((sum, row) => sum + Math.round(calcPartInPortfolio(modelPortfolio, row.asset_class) * calcPartInPortfolioIncome(modelPortfolio, row.asset_class)), 0)) / 100}%</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t\t<h3 className=\"mt-4\">Рекомендуемые сделки</h3>\n\t\t\t<div className=\"table-responsive bg-white shadow rounded\">\n\t\t\t\t<table className=\"table mb-0\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th className=\"border-bottom-0\">Актив</th>\n\t\t\t\t\t\t<th className=\"border-bottom-0\">Класс</th>\n\t\t\t\t\t\t<th className=\"border-bottom-0\">У вас в портфеле</th>\n\t\t\t\t\t\t<th className=\"border-bottom-0\">В модельном портфеле</th>\n\t\t\t\t\t\t<th className=\"border-bottom-0\">Сделка</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t{\n\t\t\t\t\t\trecs.filter(_ => _.old !== _.new).map((item, i) =>\n\n\t\t\t\t\t\t\t<tr key={i}>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<img onError={(e) => e.target.style.display = 'none'} style={{width: 70, maxHeight: 70, borderRadius: 70, marginRight: 50}} src={item.logo}/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t{item.asset}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>{item.asset_class}</td>\n\t\t\t\t\t\t\t\t<td>{item.old} шт</td>\n\t\t\t\t\t\t\t\t<td>{item.new} шт</td>\n\t\t\t\t\t\t\t\t<td className={item.act === \"sell\" ? 'text-danger' : \"text-success\"}>{item.act === \"sell\" ? \"Продать\" : \"Купить\"} {item.count} шт.</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import React, {useEffect, useState} from 'react';\nimport {useRequest} from \"../helper\";\nimport {LEVELS_INFO, setLevel, setScreen} from \"../ducks/main\";\nimport {shallowEqual, useSelector} from \"react-redux\";\nimport IconBack from \"../components/icons/IconBack\";\nimport {PortfolioItems} from \"../components/PortfolioItems\";\nimport {PortfolioAnalytics} from \"../components/PortfolioAnalytics\";\nimport {PortfolioRecs} from \"../components/PortfolioRecs\";\nimport AOS from 'aos';\n\nexport default function PortfolioScreen ({})\n{\n\tconst level = useSelector(state => state.main.level, shallowEqual);\n\tconst portfolioId = useSelector(state => state.main.portfolioId, shallowEqual);\n\tconst {requestLoading, request} = useRequest();\n\n\tconst [recs, setRecs] = useState(null);\n\tconst [modelPortfolio, setModelPortfolio] = useState(null);\n\tconst [portfolio, setPortfolio] = useState(null);\n\tconst [scenario, setScenario] = useState(\"BASE\");\n\tconst [years, setYears] = useState(level === \"HIGH\" ? 5 : (level === \"MEDIUM\" ? 3 : 1));\n\tconst [sorting, setSorting] = useState(\"MAIN\");\n\tconst [infoVisible, setInfoVisible] = useState(false);\n\tconst [availableLimits, setAvailableLimits] = useState([]);\n\n\tuseEffect(() =>\n\t{\n\t\t(async () =>\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tconst data = await request(`/availableLimits?level=${level}`);\n\t\t\t\tsetAvailableLimits(data);\n\t\t\t\tconsole.log(data);\n\t\t\t}\n\t\t\tcatch (e)\n\t\t\t{\n\n\t\t\t}\n\t\t})();\n\t}, [level]);\n\n\tuseEffect(() =>\n\t{\n\t\t(async () =>\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tconst data = await request(`/portfolio?level=${level}`);\n\t\t\t\tsetPortfolio(data);\n\t\t\t\tconsole.log(data);\n\t\t\t\t//getRecs();\n\t\t\t}\n\t\t\tcatch (e)\n\t\t\t{\n\n\t\t\t}\n\t\t})();\n\t}, []);\n\n\tasync function getRecs ()\n\t{\n\t\ttry\n\t\t{\n\t\t\tconst data = await request(`/recs?level=${level}&years=${years}&scenario=${scenario}&sorting=${sorting}`);\n\t\t\tsetModelPortfolio(data.model);\n\t\t\tsetRecs(data.recs);\n\t\t\tAOS.init({duration: 1500});\n\t\t}\n\t\tcatch (e)\n\t\t{\n\n\t\t}\n\t}\n\n\treturn <div className={`screen`}>\n\n\t\t<div className=\"screen-body pt-0\" style={{paddingBottom: 200}}>\n\t\t\t<div onClick={() => setScreen(\"MAIN\")}>\n\t\t\t\t<IconBack/>\n\t\t\t</div>\n\t\t\t<div className=\"d-flex justify-content-between\">\n\t\t\t\t<h1>Портфель #{portfolioId}</h1>\n\t\t\t\t<a href=\"https://docs.google.com/document/d/1Hzl1A3EaWVm5j7UyyKnNDCIkNhXUMA-D8U-DT5nSQ1E/edit\" target=\"_blank\">ДОКУМЕНТАЦИЯ И ОПИСАНИЕ АЛГОРИТМА</a>\n\t\t\t</div>\n\t\t\t<p className=\"text-muted \">Это реальный портфель пользователя, который сформирован вручную в соответствии с его инвестиционным профилем.<br/><b className=\"text-danger\">Расчет бумаг - реальный, произведен на 4 сентября 2021 года.</b> Данные и котировки по тикерам получены с yahoo finance / naufor / мосбиржи.<br/>\n\t\t\t<b className=\"text-danger\">Прогноз цены</b> реализован в рамках хакатона и заключается в регрессионном анализе (код расчета и прогноза написан на python и приложен в репозитории).</p>\n\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-md-3 col-sm-12\">\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<label className=\"mr-3\">Выберите сценарий</label>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<select onChange={(e) => setScenario(e.target.value)} value={scenario} className=\"form-control custom-select mr-3\">\n\t\t\t\t\t\t\t\t<option value=\"BASE\">Базовый</option>\n\t\t\t\t\t\t\t\t<option value=\"NEGATIVE\">Негативный</option>\n\t\t\t\t\t\t\t\t<option value=\"POSITIVE\">Позитивный</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t<a onClick={() => setInfoVisible(!infoVisible)} href=\"#\" className=\"small\">Показать/скрыть информацию про сценарии</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-md-3 col-sm-12\">\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<label className=\"mr-3\">Срок инвестирования, лет</label>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<select onChange={(e) => setYears(e.target.value)} value={years} className=\"form-control custom-select mr-3\">\n\t\t\t\t\t\t\t\t<option value=\"1\">1 год</option>\n\t\t\t\t\t\t\t\t<option value=\"3\">3 года</option>\n\t\t\t\t\t\t\t\t<option value=\"5\">5 лет</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{/*<div className=\"col-md-3 col-sm-12\">\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<label className=\"mr-3\">Критерии подбора бумаг</label>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<select onChange={(e) => setSorting(e.target.value)} value={sorting} className=\"form-control custom-select mr-3\">\n\t\t\t\t\t\t\t\t<option value=\"INCOME\">Доходность</option>\n\t\t\t\t\t\t\t\t<option value=\"RATING\">Рейтинг</option>\n\t\t\t\t\t\t\t\t<option value=\"INCOME_RATING\">Доходность + рейтинг</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>*/}\n\t\t\t</div>\n\t\t\t{\n\t\t\t\tinfoVisible &&\n\t\t\t\t\t<div className=\"text-muted\">\n\t\t\t\t\t\tСценарий – это ожидания аналитиков в отношении роста ключевых фондовых индексов (S&P, Московской биржи), а также курсов валюты, и ставок центральных банков в рублях и долларах\n\t\t\t\t\t\tСценарий позволяет оценить направления движения рынка. Модель оценки каждого актива в портфеле предполагает регрессионный анализ зависимости цены актива от сценарных показателей. При подстановке в модель сценарных показателей, модель выдает прогнозную цену актива. Сценарий формируется на 1 год.\n\n\t\t\t\t\t\t<br/><br/><b>Базовый сценарий</b> -  Наиболее реалистичный сценарий. Ожидания роста основных индексов акций и облигаций на уровне среднегодовых темпов роста за последние 3 года. Ожидания по курсам валют и ставка ЦБ взяты из открытых источников (СМИ)\n\t\t\t\t\t\t<br/><br/><b>Позитивный сценарий</b> - Предполагает существенное повышение основных фондовых индексов, снижение курса доллара и снижение процентных ставок, более существенное, чем ожидается по базовому сценарию.\n\t\t\t\t\t\t<br/><br/><b>Негативный сценарий</b>. Предполагает снижение основных фондовых индексов, рост курса доллара и повышение процентных ставок.\n\t\t\t\t\t</div>\n\t\t\t}\n\n\t\t\t<h3 className=\"mt-4\">Аналитика и состав</h3>\n\n\t\t\t<PortfolioAnalytics portfolio={portfolio} scenario={scenario.toLowerCase()}/>\n\n\t\t\t<div className=\"row\">\n\t\t\t\t{portfolio && <PortfolioItems portfolio={portfolio} scenario={scenario.toLowerCase()}/>}\n\t\t\t</div>\n\n\t\t\t<h3 className=\"mt-4 animate__animated animate__flash \">Рекомендации</h3>\n\t\t\t<p className=\"text-muted\">В основе рекомендаций лежит сравнение реального портфеля с модельным (оба рассчитываются на текущую дату). В результате сравнения система предлагает инвестору произвести сделки, чтобы привести свой портфель к модельному. Подбор сделок осуществляется с учетом сценарного анализа, инвест профиля, горизонта инвестирования и суммы инвестирования.</p>\n\t\t\t<div>\n\t\t\t\t<button onClick={() => getRecs()} className=\"btn btn-primary btn-lg mt-2 mb-5\">Подобрать рекомендации</button>\n\n\t\t\t\t{\n\t\t\t\t\trecs &&\n\t\t\t\t\t<div data-aos=\"fade-right\">\n\t\t\t\t\t\t<PortfolioRecs recs={recs}\n\t\t\t\t\t\t               portfolio={portfolio}\n\t\t\t\t\t\t               modelPortfolio={modelPortfolio}\n\t\t\t\t\t\t               availableLimits={availableLimits}\n\t\t\t\t\t\t               scenario={scenario}/>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\n\t\t\t\t{\n\t\t\t\t\tmodelPortfolio &&\n\t\t\t\t\t<div data-aos=\"fade-right\">\n\t\t\t\t\t\t<h3 className=\"mt-4\">Как изменится ваш портфель</h3>\n\t\t\t\t\t\t<PortfolioAnalytics portfolio={portfolio} modelPortfolio={modelPortfolio} scenario={scenario.toLowerCase()}/>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\n\t\t\t</div>\n\t\t</div>\n\n\t</div>\n}\n","import React from 'react';\nimport {getParamValue, useRequest} from \"./helper\";\nimport TestScreen from \"./screens/TestScreen\";\nimport {shallowEqual, useSelector} from \"react-redux\";\nimport CreatePortfolioScreen from \"./screens/CreatePortfolioScreen\";\nimport MainScreen from \"./screens/MainScreen\";\nimport PortfolioScreen from \"./screens/PortfolioScreen\";\n\nexport default function App ({})\n{\n\tconst {requestLoading, request} = useRequest();\n\tconst level = useSelector(state => state.main.level, shallowEqual);\n\tconst screen = useSelector(state => state.main.screen, shallowEqual);\n\n    /*useEffect(() => {\n\n        let forceIdOrganisation = getParamValue('io'),\n            forceIdResult = getParamValue('ir');\n\n\t    if (forceIdOrganisation && forceIdResult)\n        {\n\t        setOrganisation({id : forceIdOrganisation});\n            setResult({idResult : decodeURIComponent(forceIdResult)});\n            getInfo(forceIdOrganisation, decodeURIComponent(forceIdResult));\n        }\n\t    else if (forceIdOrganisation && (organisation && organisation.id !== forceIdOrganisation))\n\t    {\n\t\t    clearAllSettings();\n\t    }\n\n    }, []);\n\n    async function getInfo (idOrganisation, idResult)\n\t{\n\t\ttry\n\t\t{\n\t\t\tconst data = await request(`/search/${idOrganisation}/${idResult}`);\n\t\t\tconsole.log(data);\n\t\t}\n\t\tcatch (e) {\n\t\t\tconsole.error(e);\n\t\t\t//alert(e);\n\t\t}\n\t}*/\n\n    return <div className={``}>\n\t    {\n\t    \tscreen === \"MAIN\" &&\n\t\t    <MainScreen/>\n\t    }\n\t    {\n\t\t    screen === \"TEST\" &&\n\t\t    <TestScreen/>\n\t    }\n\t    {\n\t    \tscreen === \"PORTFOLIO\" &&\n\t\t    <PortfolioScreen/>\n\t    }\n\t    {\n\t    \tfalse && level && <CreatePortfolioScreen/>\n\t    }\n    </div>\n}\n","import {persistReducer, persistStore} from \"redux-persist\";\nimport {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\nimport main, {\n\tsetLevel, setPortfolioId, setScreen\n} from \"./ducks/main\";\nimport storage from 'redux-persist/lib/storage'\n\nconst development = !process.env.NODE_ENV || process.env.NODE_ENV === 'development';\nexport let persistorLink;\n\nexport function configureStore ()\n{\n    const middlewares = [];\n    if (development)\n    {\n        const {logger} = require(`redux-logger`);\n        middlewares.push(logger);\n    }\n\n    const withStorage = true;\n\n    const rootReducer = combineReducers({\n        main : withStorage ? persistReducer({key: \"main\", storage, blacklist: ['searchScreenOpened', 'additionalResult', 'settingsScreenOpened']}, main) : main\n    });\n    const enhancer = compose(applyMiddleware(...middlewares));\n    const store = createStore(rootReducer, enhancer);\n    const persistor = persistStore(store);\n    persistorLink = persistor;\n\n    assignActionsCreators(store);\n\n    return {store, persistor};\n}\n\nfunction assignActionsCreators (store) {\n\tsetLevel.assignTo(store);\n\tsetScreen.assignTo(store);\n\tsetPortfolioId.assignTo(store);\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'aos/dist/aos.css';\nimport './css/bootstrap.min.css';\nimport './css/index.scss';\nimport 'whatwg-fetch';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport {configureStore} from \"./store\";\nimport { PersistGate } from 'redux-persist/integration/react'\n\nconst storageData = configureStore();\n\nReactDOM.render(\n    <Provider store={storageData.store}>\n        <PersistGate loading={null} persistor={storageData.persistor}>\n            <App />\n        </PersistGate>\n    </Provider>, document.getElementById('root'));\n\n"],"sourceRoot":""}