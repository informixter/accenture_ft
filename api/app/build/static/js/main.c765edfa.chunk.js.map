{"version":3,"sources":["assets/avatar.png","helper.js","questions.js","ducks/main.js","components/icons/IconBack.js","screens/TestScreen.js","screens/MainScreen.js","components/PortfolioItems.js","components/PortfolioAnalytics.js","components/PortfolioRecs.js","screens/PortfolioScreen.js","App.js","store.js","index.js"],"names":["module","exports","__webpack_require__","p","API_ENDPOINT","useRequest","_useState","useState","_useState2","Object","slicedToArray","loading","setLoading","requestLoading","request","useCallback","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","endpoint","options","additionalHeaders","headers","response","result","_args","arguments","wrap","_context","prev","next","length","undefined","Headers","objectSpread2","App-Version","Content-Type","match","mode","timeout","timeoutPromise","fetch","sent","ok","Error","json","t0","success","message","abrupt","data","t1","console","warn","finish","stop","_x","apply","this","ms","promise","Promise","resolve","reject","timeoutId","setTimeout","then","res","clearTimeout","err","questions","text","variants","balls","setLevel","createAction","setScreen","setPortfolioId","LEVELS_INFO","LOW","title","ru","MEDIUM","HIGH","main","createReducer","_createReducer","defineProperty","state","payload","level","screen","portfolioId","IconBack","_ref$size","size","style","react_default","createElement","xmlns","width","height","viewBox","d","fill","TestScreen","objectDestructuringEmpty","_useRequest","currentQuestionIndex","setCurrentQuestionIndex","_useState3","_useState4","selectedVariantIndex","setSelectedVariantIndex","_useState5","_useState6","setBalls","_useState7","_useState8","finished","setFinished","_useState9","_useState10","localLevel","setLocalLevel","className","onClick","Fragment","map","_","index","key","checked","onChange","type","id","concat","name","htmlFor","disabled","newBalls","alina","require","MainScreen","useSelector","shallowEqual","portfolio","setPortfolio","availableLimits","setAvailableLimits","useEffect","log","_callee2","_context2","src","alt","href","borderLeft","filter","logo","asset","slice","join","Boolean","asset_class_base_weight","item","i","asset_class","issuer_max_weight","asset_max_weight","ratings_limits","client_max_duration","PortfolioItems","row","price","onError","e","target","display","maxHeight","borderRadius","marginRight","Math","round","count","current_price","currency","rating","percent","fontSize","PortfolioAnalytics","calcTotalSum","reduce","sum","calcScenarioIncome","role","minHeight","summaryRating","credit_risk_score","nearestRating","nearestRatingDif","forEach","calcRating","volatility","toLocaleString","PortfolioRecs","recs","act","PortfolioScreen","setRecs","modelPortfolio","setModelPortfolio","scenario","setScenario","years","setYears","_useState11","_useState12","sorting","setSorting","_getRecs","model","value","PortfolioAnalytics_PortfolioAnalytics","PortfolioItems_PortfolioItems","getRecs","PortfolioRecs_PortfolioRecs","App","development","process","storageData","middlewares","logger","push","rootReducer","combineReducers","persistReducer","storage","blacklist","enhancer","compose","applyMiddleware","store","createStore","persistor","persistStore","assignTo","assignActionsCreators","configureStore","ReactDOM","render","es","integration_react","document","getElementById"],"mappings":"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","file":"static/js/main.c765edfa.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/avatar.a0e12eb3.png\";","import {useCallback, useState} from \"react\";\n\nexport const API_ENDPOINT = 'https://investhelper.insrt.ru/server';\n\nexport function useRequest ()\n{\n    const [loading, setLoading] = useState(false);\n\n    const request = useCallback( async (endpoint, options= {}, additionalHeaders = {}) => {\n\n        setLoading(true);\n\n        let headers = new Headers({'App-Version': '5.0', 'Content-Type' : 'application/json', ...additionalHeaders});\n        if (endpoint.match('image'))\n        {\n\t        headers = new Headers();\n        }\n\n        options = {...options, mode: 'cors', timeout : options.timeout || 5000, headers};\n\n        try\n        {\n            let response = await timeoutPromise(options.timeout, fetch(API_ENDPOINT + endpoint, options));\n\n            if (!response.ok)\n            {\n                throw new Error('Errors on server');\n            }\n\n            let result;\n            try\n            {\n                result = await response.json();\n            }\n            catch (e)\n            {\n                throw new Error('Incorrect server response (json error)');\n            }\n\n            if (!result.success)\n            {\n                throw new Error(result.message);\n            }\n\n            return result.data;\n        }\n        catch (e)\n        {\n            console.warn(e);\n            throw e;\n        }\n        finally\n        {\n            setLoading(false);\n        }\n    }, [])\n\n    return { requestLoading : loading, request}\n}\n\nfunction timeoutPromise (ms, promise)\n{\n    return new Promise((resolve, reject) =>\n    {\n        const timeoutId = setTimeout(() =>\n        {\n            reject(new Error(\"Timeout error\"))\n        }, ms);\n        promise.then(\n            (res) =>\n            {\n                clearTimeout(timeoutId);\n                resolve(res);\n            },\n            (err) =>\n            {\n                clearTimeout(timeoutId);\n                reject(err);\n            }\n        );\n    })\n}\n\nexport function mobilecheck ()\n{\n    var check = false;\n    (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);\n    return check;\n}\n\n\n\nexport function throttle (func, ms)\n{\n    var freezed = false,\n        savedArgs,\n        savedThis;\n\n    function wrapper ()\n    {\n        if (freezed)\n        {\n            savedArgs = arguments;\n            savedThis = this;\n        }\n        else\n        {\n            func.apply(this, arguments);\n            freezed = true;\n\n            setTimeout(() =>\n            {\n                freezed = false;\n                if (savedArgs)\n                {\n                    wrapper.apply(savedThis, savedArgs);\n                    savedArgs = savedThis = null;\n                }\n            }, ms);\n        }\n    }\n\n    return wrapper;\n}\n\nexport function checkChanges (currentProps, currentState, nextProps, nextState)\n{\n    let changes = {};\n    for (let key in nextProps)\n    {\n        if (!nextProps.hasOwnProperty(key))\n        {\n            continue;\n        }\n\n        if (currentProps[key] !== nextProps[key])\n        {\n            changes[key] = [currentProps[key], nextProps[key]];\n        }\n    }\n\n    for (let key in nextState)\n    {\n        if (!nextState.hasOwnProperty(key))\n        {\n            continue;\n        }\n\n        if (currentState[key] !== nextState[key])\n        {\n            changes[key] = [currentState[key], nextState[key]];\n        }\n    }\n\n    return changes;\n}\n\nexport function getParamValue (paramName)\n{\n    var url = window.location.search.substring(1); //get rid of \"?\" in querystring\n    var qArray = url.split('&'); //get key-value pairs\n    for (var i = 0; i < qArray.length; i++)\n    {\n        var pArr = qArray[i].split('='); //split key and value\n        if (pArr[0] == paramName)\n            return pArr[1]; //return value\n    }\n}\n\nexport function inIframe () {\n    try {\n        return window.self !== window.top;\n    } catch (e) {\n        return true;\n    }\n}\n","export const questions = [\n\t{\n\t\ttext: \"Насколько хорошо Вы разбираетесь в инвестициях?\",\n\t\tvariants : [\n\t\t\t{text: \"Инвестирую впервые\", balls: 0},\n\t\t\t{text: \"Инвестирую меньше 3 лет\", balls: 0},\n\t\t\t{text: \"Инвестирую больше 3 лет\", balls: 0},\n\t\t]\n\t},\n\t{\n\t\ttext: \"Демонстрация того, что код тестов работает. Мы взяли анкетирование от крупного инвестиционного банка. Остальные вопросы решили не показывать, так как функционал есть, а вопросы скорее всего будут передаваться брокером. Уровень инвестора будет определятся на основе суммы баллов выбранных ответов.\",\n\t\tvariants : [\n\t\t/*\t{text: \"Перейди к демонстрации КОНСЕРВАТИВНОГО инвестора\", balls: 0},*/\n\t\t\t{text: \"Перейди к демонстрации АГРЕССИВНОГО инвестора\", balls: 1},\n\t\t]\n\t}\n]\n","import {createAction, createReducer} from \"redux-act\";\n\nexport const setLevel = createAction('set level');\nexport const setScreen = createAction('set screen');\nexport const setPortfolioId = createAction('set portfolio id');\n\nconst initialState =  {level : null, screen : \"MAIN\", portfolioId: null};\n\nexport const LEVELS_INFO = {\n\t\"LOW\" : {\n\t\ttitle : \"Начинающий инвестор\",\n\t\ttext : \"Вы не готовы к рисковым вложениям. В вашем портфеле нет акций, только облигации.\",\n\t\tru: \"Консервативный\"\n\t},\n\t\"MEDIUM\" : {\n\t\ttitle : \"Умеренный инвестор\",\n\t\ttext : \"Вы готовы рисковать. Но только в меру. В вашем портфеле должны преобладать облигации, но есть и акции.\",\n\t\tru: \"Умеренный\"\n\t},\n\t\"HIGH\": {\n\t\ttitle : \"Профессиональный инвестор\",\n\t\ttext: \"Вы готовы рисковать. В вашем порфтеле преобраладают акции с высокой доходностью.\",\n\t\tru: \"Агрессивный\"\n\t}\n};\nconst main = createReducer({\n    [setLevel]: (state, payload) => ({...state, level: payload}),\n    [setScreen]: (state, payload) => ({...state, screen: payload}),\n    [setPortfolioId]: (state, payload) => ({...state, portfolioId: payload}),\n}, initialState);\n\nexport default main;\n","import React from 'react';\n\nexport default function IconBack ({size = 24, style})\n{\n    return (\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width={size} height={size} style={style} viewBox=\"0 0 24 24\">\n            <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n            <path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"/>\n        </svg>\n    )\n}\n","import React, {useState} from 'react';\nimport {useRequest} from \"../helper\";\nimport {questions} from \"../questions\";\nimport {LEVELS_INFO, setLevel, setScreen} from \"../ducks/main\";\nimport IconBack from \"../components/icons/IconBack\";\n\nexport default function TestScreen ({})\n{\n    const {requestLoading, request} = useRequest();\n    const [currentQuestionIndex, setCurrentQuestionIndex] = useState(null);\n    const [selectedVariantIndex, setSelectedVariantIndex] = useState(null);\n    const [balls, setBalls] = useState(0);\n    const [finished, setFinished] = useState(false);\n    const [localLevel, setLocalLevel] = useState(null);\n\n    function nextQuestion ()\n    {\n    \tconst newBalls = balls + questions[currentQuestionIndex].variants[selectedVariantIndex].balls;\n\t    setBalls(newBalls);\n    \tif (currentQuestionIndex + 1 < questions.length)\n\t    {\n\t\t    setCurrentQuestionIndex(currentQuestionIndex + 1);\n\t\t    setSelectedVariantIndex(null);\n\t    }\n    \telse\n\t    {\n\t\t    setFinished(true);\n\n\t\t    // баллы зависят от вопросов. контент вопросов не так важен, как реализация.\n\t\t    if (newBalls === 0)\n\t\t    {\n\t\t\t    setLocalLevel(\"LOW\");\n\t\t    }\n\t\t    /*else if (balls === 2)\n\t\t    {\n\t\t\t    setLocalLevel(\"MEDIUM\");\n\t\t    }*/\n\t\t    else /*if (balls === 3)*/\n\t\t    {\n\t\t\t    setLocalLevel(\"HIGH\");\n\t\t    }\n\t    }\n    }\n\n    return <div className={`screen`}>\n\n        <div className=\"screen-body pt-0\">\n\n\t        <div onClick={() => setScreen(\"MAIN\")}>\n\t\t        <IconBack/>\n\t        </div>\n\n\t        {\n\t        \tcurrentQuestionIndex === null &&\n\t\t        <>\n\t\t\t        <h1>Пройдите тест</h1>\n\t\t\t        <p className=\"text-muted\">Чтобы определить ваш инвестиционный уровень риска.</p>\n\t\t\t        <button onClick={() => setCurrentQuestionIndex(0)} className=\"btn btn-primary\">Начать тест</button>\n\t\t        </>\n\t        }\n\n\t        {\n\t\t        currentQuestionIndex !== null && !finished &&\n\t\t        <>\n\t\t\t        <h1>Вопрос {currentQuestionIndex + 1}</h1>\n\t\t\t        <p className=\"text-muted\">{questions[currentQuestionIndex].text}</p>\n\n\t\t\t        {\n\t\t\t\t        questions[currentQuestionIndex].variants.map((_, index) =>\n\t\t\t\t\t        <div key={index} className=\"d-block custom-control custom-radio custom-control-inline\">\n\t\t\t\t\t\t        <div className=\"form-group mb-0\">\n\t\t\t\t\t\t\t        <input checked={selectedVariantIndex === index} onChange={() => setSelectedVariantIndex(index)} type=\"radio\" id={`radio-${currentQuestionIndex}-${index}`} name=\"customRadio\"\n\t\t\t\t\t\t\t               className=\"custom-control-input\"/>\n\t\t\t\t\t\t\t\t        <label className=\"custom-control-label\" htmlFor={`radio-${currentQuestionIndex}-${index}`}>{_.text}</label>\n\t\t\t\t\t\t        </div>\n\t\t\t\t\t        </div>)\n\t\t\t        }\n\n\t\t\t        <button disabled={selectedVariantIndex === null} onClick={nextQuestion} className=\"btn btn-primary mt-4\">Дальше</button>\n\t\t        </>\n\t        }\n\n\t        {\n\t        \tfinished && localLevel &&\n\t\t        <>\n\t\t\t        <h1>Вы - {LEVELS_INFO[localLevel].title}</h1>\n\t\t\t        <p className=\"text-muted\">{LEVELS_INFO[localLevel].text}</p>\n\t\t\t        <button onClick={() => {setLevel(localLevel);setScreen(\"MAIN\")}} className=\"btn btn-primary\">Завершить тестирование</button>\n\t\t        </>\n\t        }\n        </div>\n\n    </div>\n}\n","import React, {useEffect, useState} from 'react';\nimport {useRequest} from \"../helper\";\nimport {LEVELS_INFO, setLevel, setPortfolioId, setScreen} from \"../ducks/main\";\nimport {shallowEqual, useSelector} from \"react-redux\";\n\nconst alina = require('../assets/avatar.png');\n\nexport default function MainScreen ({})\n{\n    const {requestLoading, request} = useRequest();\n\tconst level = useSelector(state => state.main.level, shallowEqual);\n\tconst [portfolio, setPortfolio] = useState(null);\n\tconst [availableLimits, setAvailableLimits] = useState([]);\n\n\tuseEffect(() =>\n\t{\n\t\t(async () =>\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tconst data = await request(`/availableLimits?level=${level}`);\n\t\t\t\tsetAvailableLimits(data);\n\t\t\t\tconsole.log(data);\n\t\t\t}\n\t\t\tcatch (e)\n\t\t\t{\n\n\t\t\t}\n\t\t})();\n\t}, [level]);\n\n\tuseEffect(() =>\n\t{\n\t\t(async () =>\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tconst data = await request(`/portfolio?level=${level}`);\n\t\t\t\tsetPortfolio(data);\n\t\t\t\tconsole.log(data);\n\t\t\t}\n\t\t\tcatch (e)\n\t\t\t{\n\n\t\t\t}\n\t\t})();\n\t}, [level])\n\n    return <div className={`screen`}>\n\n        <div className=\"screen-body pt-0\">\n\n\t        <>\n\t\t        <div className=\"d-flex text-center flex-column align-items-center mt-3\">\n\t\t\t        <div>\n\t\t\t\t        <img src={alina} className=\"img-fluid avatar avatar-medium mt-3 mt-sm-0 rounded-circle\" alt=\"\"/>\n\t\t\t        </div>\n\t\t\t        <div>\n\t\t\t\t        <h1 className=\"mb-0\">Частный инвестор</h1>\n\t\t\t\t        {\n\t\t\t\t        \t!level &&\n\t\t\t\t\t        <>\n\t\t\t\t\t\t        <p className=\"text-muted mb-0\">\n\t\t\t\t\t\t\t        Инвест-профиль не определен. Для продолжения пройдите тестирование.<br/>\n\t\t\t\t\t\t\t        В случае использования системы брокером, брокер будет заранее передавать профиль,<br/>тогда прохождение теста не будет обязательным.\n\t\t\t\t\t\t        </p>\n\t\t\t\t\t\t        <button onClick={() => setScreen(\"TEST\")} className=\"btn btn-primary mt-3\">Пройти тест</button>\n\t\t\t\t\t        </>\n\t\t\t\t        }\n\t\t\t\t        {\n\t\t\t\t        \tlevel &&\n\t\t\t\t\t        <>\n\t\t\t\t\t\t        <p className=\"text-muted mb-0\">{LEVELS_INFO[level].ru + ' профиль' }</p>\n\t\t\t\t\t\t        <a onClick={() => {setLevel(null);setPortfolio(null);setAvailableLimits(null);}} href=\"#\">сбросить профиль (есть демонстрация агрессивного и консервативного профиля)</a>\n\t\t\t\t\t        </>\n\t\t\t\t        }\n\t\t\t        </div>\n\t\t        </div>\n\n\t\t        {\n\t\t\t        portfolio &&\n\t\t\t        <div className=\"mt-5\">\n\t\t\t\t        <h3>Ваши портфели</h3>\n\t\t\t\t        <p className=\"text-muted\">Выберите портфель, чтобы увидеть аналитику и рекомендации.</p>\n\t\t\t\t        <div className=\"row\">\n\n\t\t\t\t\t        <div className=\"col-md-6 col-sm-12 mb-3\">\n\t\t\t\t\t\t        <div onClick={() => {setScreen(\"PORTFOLIO\"); setPortfolioId(1)}} className=\"card shadow rounded border-0 overflow-hidden hover-background\">\n\t\t\t\t\t\t\t        <div style={{borderLeft: \"3px solid blue\"}} className=\"card-body\">\n\t\t\t\t\t\t\t\t        <h5 className=\"card-title\">Портфель #1</h5>\n\t\t\t\t\t\t\t\t        <p className=\"text-muted mb-0\">{portfolio.filter(_ => _.logo !== null).map(_ => _.asset).slice(0, 3).join(\", \") + ' и др.'}</p>\n\t\t\t\t\t\t\t\t        {/*<p className=\"text-muted mb-0\">{portfolio.filter(_ => _.logo !== null).map(_ => <img key={_.logo} style={{width: 50, height: 50}} src={_.logo}/>)}</p>*/}\n\t\t\t\t\t\t\t        </div>\n\t\t\t\t\t\t        </div>\n\t\t\t\t\t        </div>\n\n\t\t\t\t        </div>\n\t\t\t        </div>\n\t\t        }\n\n\t\t        {\n\t\t        \tavailableLimits && level &&\n\t\t\t        <div className=\"mt-5\">\n\t\t\t\t        <h3>Ваша лимитная ведомость на основе риск-профиля</h3>\n\t\t\t\t        <p className=\"text-muted\">\n\t\t\t\t\t        Это набор классов активов с ограничениями по долям и рейтингам, подобранный в соответствии с инвестиционным профилем.\n\t\t\t\t\t        Он используется для подбора модельного портфеля к какому-либо реальному портфелю. Модельный портфель - идеальный набор бумаг на заданную сумму, горизонт инвестирования, сценарий, при котором инвестор получит максимальную доходность при минимальных рисках.\n\t\t\t\t        </p>\n\t\t\t\t        <div className=\"table-responsive bg-white shadow rounded\">\n\t\t\t\t\t        <table className=\"table mb-0\">\n\t\t\t\t\t\t        <thead>\n\t\t\t\t\t\t        <tr>\n\t\t\t\t\t\t\t        <th className=\"border-bottom-0\">Класс актива</th>\n\t\t\t\t\t\t\t        <th className=\"border-bottom-0\">Макс. доля класса актива</th>\n\t\t\t\t\t\t\t        <th className=\"border-bottom-0\">Макс. доля эмитента</th>\n\t\t\t\t\t\t\t        <th className=\"border-bottom-0\">Макс. доля актива</th>\n\t\t\t\t\t\t\t        <th className=\"border-bottom-0\">Доступные рейтинги</th>\n\t\t\t\t\t\t\t        <th className=\"border-bottom-0\">Горизонт инвестирования</th>\n\t\t\t\t\t\t        </tr>\n\t\t\t\t\t\t        </thead>\n\t\t\t\t\t\t        <tbody>\n\t\t\t\t\t\t        {\n\t\t\t\t\t\t        \tavailableLimits.filter(_ => Boolean(_.asset_class_base_weight)).map((item, i) =>\n\n\t\t\t\t\t\t\t\t        <tr key={i}>\n\t\t\t\t\t\t\t\t\t        <td>{item.asset_class}</td>\n\t\t\t\t\t\t\t\t\t        <td>{item.asset_class_base_weight || 0}%</td>\n\t\t\t\t\t\t\t\t\t        <td>{item.issuer_max_weight || 0}%</td>\n\t\t\t\t\t\t\t\t\t        <td>{item.asset_max_weight || 0}%</td>\n\t\t\t\t\t\t\t\t\t        <td>{item.ratings_limits}</td>\n\t\t\t\t\t\t\t\t\t        <td>{item.client_max_duration} {item.client_max_duration > 1 ? 'лет' : 'год '}</td>\n\t\t\t\t\t\t\t\t        </tr>\n\t\t\t\t\t\t\t        )\n\t\t\t\t\t\t        }\n\t\t\t\t\t\t        </tbody>\n\t\t\t\t\t        </table>\n\t\t\t\t        </div>\n\t\t\t        </div>\n\t\t        }\n\t        </>\n\n        </div>\n\n    </div>\n}\n","import React from 'react';\n\nexport const PortfolioItems = ({portfolio}) =>\n{\n\treturn portfolio.filter(row => row.price > 0).map(row => (\n\t\t\t<div className=\"col-md-6 col-sm-12 mb-3\">\n\t\t\t\t<div className=\"card shadow rounded border-0 overflow-hidden\">\n\t\t\t\t\t<div className=\"card-body d-flex\">\n\t\t\t\t\t\t<div style={{height: 70}}>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\trow.logo &&\n\t\t\t\t\t\t\t\t<img onError={(e) => e.target.style.display = 'none'} style={{width: 70, maxHeight: 70, borderRadius: 70, marginRight: 50}} src={row.logo}/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"w-100\">\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-between\">\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold card-title\">{row.asset}</span>\n\t\t\t\t\t\t\t\t<span>{Math.round(row.count * row.current_price * 100) / 100} {row.currency}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-muted mb-0\">{row.count} шт · {Math.round(row.current_price * 100) / 100} {row.currency}</p>\n\t\t\t\t\t\t\t<p className=\"text-muted mb-0\">{row.asset_class} · {row.rating}</p>\n\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-between mt-3\">\n\t\t\t\t\t\t\t\t<span className=\"card-title\">Прогноз на год</span>\n\t\t\t\t\t\t\t\t<span className={(row.percent > 0 ? 'text-success' : 'text-danger') + ' text-right'}>\n\t\t\t\t\t\t\t\t\t\t\t{Math.round(row.price * row.count * 100) / 100} {row.currency}\n\t\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t\t\t\t<span style={{fontSize: 12}}>{Math.round(row.price * 100) / 100} {row.currency} / шт, {row.percent > 0 ? '+' : '-'}{Math.round(row.percent * 100) / 100}%</span>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t));\n};\n","import React from 'react';\n\nexport const PortfolioAnalytics = ({portfolio}) =>\n{\n\n\tfunction calcTotalSum ()\n\t{\n\t\tif (!portfolio)\n\t\t{\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn portfolio.reduce((sum, row) => {\n\t\t\treturn sum + Math.round(row.count * row.current_price * (row.currency === \"RUB\" ? 1 : 75));\n\t\t}, 0);\n\t}\n\n\tfunction calcVol ()\n\t{\n\t\tif (!portfolio)\n\t\t{\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn Math.round(portfolio.reduce((sum, row) => {\n\t\t\treturn sum + row.volatility * row.count * row.current_price * (row.currency === \"RUB\" ? 1 : 75);\n\t\t}, 0) / calcTotalSum() * 100) / 100;\n\t}\n\n\tfunction calcRating ()\n\t{\n\t\tif (!portfolio)\n\t\t{\n\t\t\treturn \"NA\";\n\t\t}\n\n\t\tconst summaryRating = Math.round(portfolio.reduce((sum, row) => {\n\t\t\treturn sum + row.credit_risk_score * row.count * row.current_price * (row.currency === \"RUB\" ? 1 : 75);\n\t\t}, 0) / calcTotalSum());\n\n\t\tlet nearestRating = '';\n\t\tlet nearestRatingDif = 1000;\n\t\tportfolio.forEach((row) =>\n\t\t{\n\t\t\tif (row.credit_risk_score - summaryRating < nearestRatingDif)\n\t\t\t{\n\t\t\t\tnearestRatingDif = row.credit_risk_score - summaryRating;\n\t\t\t\tnearestRating = row.rating;\n\t\t\t}\n\t\t});\n\n\t\treturn nearestRating;\n\t}\n\n\tfunction calcScenarioIncome ()\n\t{\n\t\tif (!portfolio)\n\t\t{\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn Math.round(portfolio.reduce((sum, row) => {\n\t\t\treturn sum + row.percent * row.count * row.current_price * (row.currency === \"RUB\" ? 1 : 75);\n\t\t}, 0) / calcTotalSum() * 100) / 100;\n\t}\n\n\treturn (\n\t\t<div className=\"row\">\n\n\t\t\t<div className=\"col-md-3 mb-3\">\n\t\t\t\t<div className=\"alert alert-success mb-0\" role=\"alert\">\n\t\t\t\t\t<h3 className=\"alert-heading mb-0\">{calcTotalSum()} RUB</h3>\n\t\t\t\t\t<div className=\"mb-2\">&nbsp;</div>\n\t\t\t\t\t<p style={{minHeight: 60}} className=\"mb-0 border-top pt-3 small\">Суммарная стоимость</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"col-md-2 mb-3\">\n\t\t\t\t<div className=\"alert alert-success mb-0\" role=\"alert\">\n\t\t\t\t\t<h3 className=\"alert-heading mb-0\">{calcRating()}</h3>\n\t\t\t\t\t<div className=\"mb-2\">&nbsp;</div>\n\t\t\t\t\t<p style={{minHeight: 60}} className=\"mb-0 border-top pt-3 small\">Средняя надежность вложений портфеля</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"col-md-2 mb-3\">\n\t\t\t\t<div className=\"alert alert-success mb-0\" role=\"alert\">\n\t\t\t\t\t<h3 className=\"alert-heading mb-0\">{calcVol()}%</h3>\n\t\t\t\t\t<div className=\"mb-2\">&nbsp;</div>\n\t\t\t\t\t<p style={{minHeight: 60}} className=\"mb-0 border-top pt-3 small\">Средняя волатильность</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"col-md-2 mb-3\">\n\t\t\t\t<div className=\"alert alert-info mb-0\" role=\"alert\">\n\t\t\t\t\t<h3 className=\"alert-heading mb-0\">{calcScenarioIncome()}%</h3>\n\t\t\t\t\t<div className=\"mb-2\">({(Math.round(calcScenarioIncome() / 100 * calcTotalSum())).toLocaleString()} руб.)</div>\n\t\t\t\t\t<p style={{minHeight: 60}} className=\"mb-0 border-top pt-3 small\">Ожидаемый доход портфеля по сценарию на 1 год</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"col-md-3 mb-3\">\n\t\t\t\t<div className=\"alert alert-info mb-0\" role=\"alert\">\n\t\t\t\t\t<h3 className=\"alert-heading mb-0\">5.5%</h3>\n\t\t\t\t\t<div className=\"mb-2\">(218.3 руб.)</div>\n\t\t\t\t\t<p style={{minHeight: 60}} className=\"mb-0 border-top pt-3 small\">Историческая доходность данной корзины за последний год</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t</div>\n\t);\n};\n","import React from 'react';\n\nexport const PortfolioRecs = ({recs}) =>\n{\n\treturn recs.map(row => (\n\t\t\t<div className=\"col-md-6 col-sm-12 mb-3\">\n\t\t\t\t<div className=\"card shadow rounded border-0 overflow-hidden\">\n\t\t\t\t\t<div className=\"card-body d-flex\">\n\t\t\t\t\t\t<div style={{height: 70}}>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\trow.logo &&\n\t\t\t\t\t\t\t\t<img onError={(e) => e.target.style.display = 'none'} style={{width: 70, maxHeight: 70, borderRadius: 70, marginRight: 50}} src={row.logo}/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"w-100\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold card-title\">{row.asset}</span><br/>\n\t\t\t\t\t\t\t\t<span className={row.act === \"sell\" ? \"text-danger\" : \"text-success\"}>{row.act === \"sell\" ? \"ПРОДАТЬ\" : \"КУПИТЬ\"} {row.count} шт.</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t));\n};\n","import React, {useEffect, useState} from 'react';\nimport {useRequest} from \"../helper\";\nimport {LEVELS_INFO, setLevel, setScreen} from \"../ducks/main\";\nimport {shallowEqual, useSelector} from \"react-redux\";\nimport IconBack from \"../components/icons/IconBack\";\nimport {PortfolioItems} from \"../components/PortfolioItems\";\nimport {PortfolioAnalytics} from \"../components/PortfolioAnalytics\";\nimport {PortfolioRecs} from \"../components/PortfolioRecs\";\n\nexport default function PortfolioScreen ({})\n{\n\tconst level = useSelector(state => state.main.level, shallowEqual);\n\tconst portfolioId = useSelector(state => state.main.portfolioId, shallowEqual);\n\tconst {requestLoading, request} = useRequest();\n\n\tconst [recs, setRecs] = useState(null);\n\tconst [modelPortfolio, setModelPortfolio] = useState(null);\n\tconst [portfolio, setPortfolio] = useState(null);\n\tconst [scenario, setScenario] = useState(\"MAIN\");\n\tconst [years, setYears] = useState(level === \"HIGH\" ? 5 : 1);\n\tconst [sorting, setSorting] = useState(\"MAIN\");\n\n/*\tuseEffect(() =>\n\t{\n\t\t(async () =>\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tconst data = await request(`/availableLimits?level=${level}`);\n\t\t\t\tconsole.log(data);\n\t\t\t}\n\t\t\tcatch (e)\n\t\t\t{\n\n\t\t\t}\n\t\t})();\n\t}, [])*/\n\n\tuseEffect(() =>\n\t{\n\t\t(async () =>\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tconst data = await request(`/portfolio?level=${level}`);\n\t\t\t\tsetPortfolio(data);\n\t\t\t\tconsole.log(data);\n\t\t\t}\n\t\t\tcatch (e)\n\t\t\t{\n\n\t\t\t}\n\t\t})();\n\t}, []);\n\n\tasync function getRecs ()\n\t{\n\t\ttry\n\t\t{\n\t\t\tconst data = await request(`/recs?level=${level}&years=${years}&scenario=${scenario}&sorting=${sorting}`);\n\t\t\tsetModelPortfolio(data.model);\n\t\t\tsetRecs(data.recs);\n\t\t}\n\t\tcatch (e)\n\t\t{\n\n\t\t}\n\t}\n\n\treturn <div className={`screen`}>\n\n\t\t<div className=\"screen-body pt-0\">\n\t\t\t<div onClick={() => setScreen(\"MAIN\")}>\n\t\t\t\t<IconBack/>\n\t\t\t</div>\n\t\t\t<h1>Портфель #{portfolioId}</h1>\n\t\t\t<p className=\"text-muted\">Это реальный портфель пользователя, который сформирован вручную в соответствии с его инвестиционным профилем.<br/><b className=\"text-danger\">Расчет бумаг - реальный, произведен на 4 сентября 2021 года.</b> Данные и котировки по тикерам получены с yahoo finance / naufor / мосбиржи.<br/>\n\t\t\t<b className=\"text-danger\">Прогноз цены</b> реализован в рамках хакатона и заключается в регрессионном анализе (код расчета и прогноза написан на python и приложен в репозитории).</p>\n\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-md-3 col-sm-12\">\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<label className=\"mr-3\">Выберите сценарий</label>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<select onChange={(e) => setScenario(e.target.value)} value={scenario} className=\"form-control custom-select mr-3\">\n\t\t\t\t\t\t\t\t<option value=\"BASE\">Базовый</option>\n\t\t\t\t\t\t\t\t<option value=\"POSITIVE\">Позитивный</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t{/*<a href=\"#\" className=\"small\">Подробнее про сценарии</a>*/}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-md-3 col-sm-12\">\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<label className=\"mr-3\">Срок инвестирования, лет</label>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<select onChange={(e) => setYears(e.target.value)} value={years} className=\"form-control custom-select mr-3\">\n\t\t\t\t\t\t\t\t<option value=\"1\">1 год</option>\n\t\t\t\t\t\t\t\t<option value=\"5\">5 лет</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-md-3 col-sm-12\">\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<label className=\"mr-3\">Критерии подбора бумаг</label>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<select onChange={(e) => setSorting(e.target.value)} value={sorting} className=\"form-control custom-select mr-3\">\n\t\t\t\t\t\t\t\t<option value=\"INCOME\">Доходность</option>\n\t\t\t\t\t\t\t\t<option value=\"RATING\">Рейтинг</option>\n\t\t\t\t\t\t\t\t<option value=\"INCOME_RATING\">Доходность + рейтинг</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<h3 className=\"mt-4\">Аналитика и состав</h3>\n\n\t\t\t<PortfolioAnalytics portfolio={portfolio}/>\n\n\t\t\t<div className=\"row\">\n\t\t\t\t{portfolio && <PortfolioItems portfolio={portfolio}/>}\n\t\t\t</div>\n\n\t\t\t<h3 className=\"mt-4\">Рекомендации</h3>\n\t\t\t<p className=\"text-muted\">В основе рекомендаций лежит сравнение реального портфеля с модельным (оба рассчитываются на текущую дату). В результате сравнения система предлагает инвестору произвести сделки, чтобы привести свой портфель к модельному. Подбор сделок осуществляется с учетом сценарного анализа, инвест профиля, горизонта инвестирования и суммы инвестирования.</p>\n\t\t\t<div>\n\t\t\t\t<button onClick={() => getRecs()} className=\"btn btn-primary btn-lg mt-2 mb-5\">Подобрать рекомендации</button>\n\n\t\t\t\t{\n\t\t\t\t\tmodelPortfolio &&\n\t\t\t\t\t<>\n\t\t\t\t\t\t<h3 className=\"mt-4\">Как изменятся параметры:</h3>\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<PortfolioAnalytics portfolio={modelPortfolio}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t}\n\n\t\t\t\t{\n\t\t\t\t\trecs &&\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<PortfolioRecs recs={recs}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t}\n\n\t\t\t</div>\n\t\t</div>\n\n\t</div>\n}\n","import React from 'react';\nimport {getParamValue, useRequest} from \"./helper\";\nimport TestScreen from \"./screens/TestScreen\";\nimport {shallowEqual, useSelector} from \"react-redux\";\nimport CreatePortfolioScreen from \"./screens/CreatePortfolioScreen\";\nimport MainScreen from \"./screens/MainScreen\";\nimport PortfolioScreen from \"./screens/PortfolioScreen\";\n\nexport default function App ({})\n{\n\tconst {requestLoading, request} = useRequest();\n\tconst level = useSelector(state => state.main.level, shallowEqual);\n\tconst screen = useSelector(state => state.main.screen, shallowEqual);\n\n    /*useEffect(() => {\n\n        let forceIdOrganisation = getParamValue('io'),\n            forceIdResult = getParamValue('ir');\n\n\t    if (forceIdOrganisation && forceIdResult)\n        {\n\t        setOrganisation({id : forceIdOrganisation});\n            setResult({idResult : decodeURIComponent(forceIdResult)});\n            getInfo(forceIdOrganisation, decodeURIComponent(forceIdResult));\n        }\n\t    else if (forceIdOrganisation && (organisation && organisation.id !== forceIdOrganisation))\n\t    {\n\t\t    clearAllSettings();\n\t    }\n\n    }, []);\n\n    async function getInfo (idOrganisation, idResult)\n\t{\n\t\ttry\n\t\t{\n\t\t\tconst data = await request(`/search/${idOrganisation}/${idResult}`);\n\t\t\tconsole.log(data);\n\t\t}\n\t\tcatch (e) {\n\t\t\tconsole.error(e);\n\t\t\t//alert(e);\n\t\t}\n\t}*/\n\n    return <div className={``}>\n\t    {\n\t    \tscreen === \"MAIN\" &&\n\t\t    <MainScreen/>\n\t    }\n\t    {\n\t\t    screen === \"TEST\" &&\n\t\t    <TestScreen/>\n\t    }\n\t    {\n\t    \tscreen === \"PORTFOLIO\" &&\n\t\t    <PortfolioScreen/>\n\t    }\n\t    {\n\t    \tfalse && level && <CreatePortfolioScreen/>\n\t    }\n    </div>\n}\n","import {persistReducer, persistStore} from \"redux-persist\";\nimport {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\nimport main, {\n\tsetLevel, setPortfolioId, setScreen\n} from \"./ducks/main\";\nimport storage from 'redux-persist/lib/storage'\n\nconst development = !process.env.NODE_ENV || process.env.NODE_ENV === 'development';\nexport let persistorLink;\n\nexport function configureStore ()\n{\n    const middlewares = [];\n    if (development)\n    {\n        const {logger} = require(`redux-logger`);\n        middlewares.push(logger);\n    }\n\n    const withStorage = true;\n\n    const rootReducer = combineReducers({\n        main : withStorage ? persistReducer({key: \"main\", storage, blacklist: ['searchScreenOpened', 'additionalResult', 'settingsScreenOpened']}, main) : main\n    });\n    const enhancer = compose(applyMiddleware(...middlewares));\n    const store = createStore(rootReducer, enhancer);\n    const persistor = persistStore(store);\n    persistorLink = persistor;\n\n    assignActionsCreators(store);\n\n    return {store, persistor};\n}\n\nfunction assignActionsCreators (store) {\n\tsetLevel.assignTo(store);\n\tsetScreen.assignTo(store);\n\tsetPortfolioId.assignTo(store);\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './css/bootstrap.min.css';\nimport './css/index.scss';\nimport 'whatwg-fetch';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport {configureStore} from \"./store\";\nimport { PersistGate } from 'redux-persist/integration/react'\n\nconst storageData = configureStore();\n\nReactDOM.render(\n    <Provider store={storageData.store}>\n        <PersistGate loading={null} persistor={storageData.persistor}>\n            <App />\n        </PersistGate>\n    </Provider>, document.getElementById('root'));\n"],"sourceRoot":""}